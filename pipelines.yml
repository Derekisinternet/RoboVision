pipelines:
  general:
    debug: true
  tools:
    branches:
      patterns:
        master: master
        feature: .+
    github:
      credentials:
        description: primary GitHub clone/checkout
    cMake:
      container: robovision_test
    tests:
      executable: 'app/build/roboVision'
      positiveSet: 'hand'
  branches:
    feature:
      steps:
        - docker:
            build:
              dockerfile: Dockerfile
              name: robovision_test
        - cMake:
            cMake:
              cMakeDir: 'app/build'
              cMakeLists: CMakeLists.txt
            make:
              makeDir: 'app/build'
        - tests:
            test:

    master:
      steps:
        - cmake:
            make:
              makeDir: 'app/build'
